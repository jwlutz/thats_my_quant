# Environment Configuration Template
# Copy this file to .env and fill in your values

# === API Configuration ===

# OpenAI API Key (optional - only if not using Ollama)
OPENAI_API_KEY=sk-...your-key-here...

# Ollama Configuration (local LLM for reports)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_TIMEOUT_S=60
OLLAMA_OPTIONS_JSON={}

# LangChain Configuration (telemetry OFF by default)
LANGSMITH_TRACING=false
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=ai-equity-research

# Sentiment Analysis Configuration
NEWS_RSS_ENABLED=true
NEWS_RSS_SOURCES_BASE=./config/rss_sources.yml
SENTIMENT_WINDOW_DAYS=7
SENTIMENT_BASELINE_DAYS=30
REQUESTS_TIMEOUT_S=30
RPS_LIMIT=5

# Google Trends Configuration
GOOGLE_TRENDS_ENABLED=true
GOOGLE_TRENDS_GEO=US
GOOGLE_TRENDS_TIMEFRAME=today 7-d
GOOGLE_TRENDS_CACHE_HOURS=6

# Insider Trading Configuration (SEC Form 4)
INSIDER_TRADING_ENABLED=true
INSIDER_TRADING_LOOKBACK_DAYS=90
INSIDER_TRADING_MIN_VALUE_USD=10000  # Minimum transaction value to track

# Public Sentiment Configuration (Core Functionality)
PUBLIC_SENTIMENT_ENABLED=true
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USER_AGENT=ai-research-workbench/1.0 by yourusername
REDDIT_SUBREDDITS=investing,SecurityAnalysis,ValueInvesting,stocks,StockMarket

X_ENABLED=true
X_BEARER_TOKEN=your_x_bearer_token
X_SEARCH_LIMIT=100
X_SEARCH_LANG=en

# Context Awareness Configuration
CONTEXT_AWARE_SCORING=true
EARNINGS_CALENDAR_ENABLED=true
DIVIDEND_CALENDAR_ENABLED=true
EARNINGS_CALL_TRANSCRIPTS_ENABLED=true

# Abnormality Detection Configuration
ABNORMALITY_TIMEFRAMES=7,30,90  # Days for multi-timeframe analysis
ABNORMALITY_BASELINE_DAYS=365   # Historical baseline period
ABNORMALITY_Z_SCORE_CAP=3.0     # Cap extreme Z-scores
ABNORMALITY_PERCENTILE_BINS=10,25,50,75,90,95,99  # Percentile thresholds

# SEC EDGAR Configuration (REQUIRED for 13F scraper)
# Format: "Your Name your.email@example.com" - SEC requires identification
SEC_USER_AGENT="Your Name your.email@example.com"
SEC_CONTACT_EMAIL="your.email@example.com"
SEC_RATE_LIMIT_RPS=5  # requests per second (max recommended by SEC)

# yfinance Configuration
YFINANCE_TIMEOUT=30
YFINANCE_MAX_RETRIES=3

# === Database Configuration ===

# SQLite Database Path
DB_PATH=./data/research.db
DB_TIMEOUT=5.0

# === Application Settings ===

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=./data/logs/app.log
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Cache Settings
CACHE_DIR=./data/cache
CACHE_TTL_PRICES=86400  # 24 hours in seconds
CACHE_TTL_13F=3888000   # 45 days in seconds

# Report Settings
REPORT_DIR=./reports
REPORTS_TZ=America/Phoenix
REPORTS_USE_SYMLINKS=true
REPORTS_RETENTION_N=10
REPORTS_INDEX_PATH=./reports/latest_reports.json

# Analysis Settings
DEFAULT_LOOKBACK_DAYS=365
VOLATILITY_WINDOW_DAYS=252  # Trading days in a year
MIN_DATA_COVERAGE_PCT=95

# === Performance Settings ===

# Parallel Processing
MAX_WORKERS=5
CHUNK_SIZE=1000

# Memory Limits
MAX_MEMORY_MB=2048

# Timeouts
DEFAULT_TIMEOUT=30
NETWORK_TIMEOUT=60
CALCULATION_TIMEOUT=120

# === Feature Flags ===

# Enable/disable features
ENABLE_CACHE=true
ENABLE_PROGRESS_BAR=true
ENABLE_DEBUG_MODE=false
ENABLE_PROFILING=false

# === Data Quality ===

# Validation Thresholds
MAX_PRICE_GAP_DAYS=5
MIN_VOLUME_THRESHOLD=0
MAX_PRICE_CHANGE_PCT=50  # Flag changes > 50% for review

# === Testing ===

# Test Configuration
TEST_MODE=false
TEST_DATA_DIR=./tests/fixtures
USE_MOCK_DATA=false

# Golden Tickers for Testing
GOLDEN_TICKERS=AAPL,MSFT,SPY

# === Security ===

# Security Settings
VALIDATE_SSL=true
SANITIZE_INPUTS=true
MAX_REQUEST_SIZE_MB=10

# === Notes ===
# 
# 1. Never commit the actual .env file
# 2. Keep this template updated with new variables
# 3. Document the purpose and format of each variable
# 4. Use appropriate data types (strings don't need quotes)
# 5. Set reasonable defaults where possible
